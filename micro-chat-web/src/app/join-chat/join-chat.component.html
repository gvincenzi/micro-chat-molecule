<h2>Join a Chat</h2>
<mat-card>
    <mat-card-header>
        <mat-card-title *ngIf="!joined">Fill your data to join a chat</mat-card-title>
        <mat-card-title *ngIf="joined">Click button below to leave a chat</mat-card-title>
    </mat-card-header>
    <mat-card-content *ngIf="!joined">
        <form [formGroup]="joinForm" (ngSubmit)="onSubmit()" class="example-form">
            <mat-form-field appearance="fill">
                <mat-label>EMail</mat-label>
                <input matInput formControlName="mail">
            </mat-form-field><br>
            <mat-form-field appearance="fill">
                <mat-label>Nickname</mat-label>
                <input matInput formControlName="nickname">
            </mat-form-field><br>
            <mat-form-field appearance="fill">
                <mat-label>Chat hashtag</mat-label>
                <input matInput formControlName="hashtag">
            </mat-form-field>
            <br>
            <button mat-raised-button type="submit">Join</button>
        </form>
    </mat-card-content>
    <mat-card-content *ngIf="joined">
        <button mat-raised-button (click)="onLeave()">Leave</button>
    </mat-card-content>
</mat-card>
<br>
<app-chat-box *ngIf="joined" [hashtag]="joinForm.value.hashtag" [participant]="participant" [chatTitle]="'#'+joinForm.value.hashtag" [chatSubTitle]="'Write a message'"></app-chat-box>
